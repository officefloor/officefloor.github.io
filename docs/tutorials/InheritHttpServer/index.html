<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2020-12-12 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Daniel Sagenschneider" />
    <meta name="Date-Revision-yyyymmdd" content="20201212" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Inheritance HTTP Server Tutorial &#x2013; Template Inheritance Tutorial</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

          <!-- shortcut icon -->
			<link rel="shortcut icon" href="/favicon.ico" />
			
			<!-- www.addthis.com (for sharing) -->
			<script type="text/javascript">
				$(document).ready(function() {
					var addThisScript = document.createElement("script");
					addThisScript.type = 'text/javascript';
					addThisScript.src = '//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c6e0c0bac25d2cf';
					document.body.appendChild(addThisScript);
				})
			</script>
                  <!-- Google Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-23477455-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
          </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/officefloor/OfficeFloor">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://officefloor.net/" id="bannerLeft">
                                                                                        <img src="https://officefloor.net/images/OfficeFloorBannerImage.png"  alt="OfficeFloor"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="../../index.html" title="OfficeFloor">
        OfficeFloor</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../index.html" title="Tutorials">
        Tutorials</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="index.html" title="Inheritance HTTP Server Tutorial">
        Inheritance HTTP Server Tutorial</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Template Inheritance Tutorial</li>
        
              
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2020-12-12</li>
              <li id="projectVersion" class="pull-right">
                    Version: 3.29.0
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Parent Project</li>
                              
      <li>
  
                          <a href="../index.html" title="Tutorials">
          <span class="none"></span>
        Tutorials</a>
            </li>
            </ul>
              
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="officefloor.net/officefloor/tutorials/InheritHttpServer/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="https://github.com/sponsors/sagenschneider" title="Support" class="builtBy">
        <img class="builtBy"  alt="Support" src="https://officefloor.net/images/sponsor.jpg"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="Template_Inheritance_Tutorial"></a>Template Inheritance Tutorial</h2>
<p>This tutorial demonstrates the inheritance of both HTML and logic for templates.</p>
<p>The following are the example pages for this tutorial. The parent, child and grand child pages inherit from each other as their name suggests.</p><img src="./images/InheritHttpServer-parent-screenshot.png" alt="InheritHttpServer parent screen shot." /><img src="./images/InheritHttpServer-child-screenshot.png" alt="InheritHttpServer child screen shot." /><img src="./images/InheritHttpServer-grandchild-screenshot.png" alt="InheritHttpServer grand child screenshot." />
<p><a class="externalLink" href="https://github.com/officefloor/OfficeFloor/tree/master/officefloor/tutorials/InheritHttpServer">Tutorial Source</a></p>
<div class="section">
<h3><a name="Template_Inheritance_Configuration"></a>Template Inheritance Configuration</h3>
<p>The below shows the template inheritance configuration.</p><img src="./images/InheritHttpServer-screenshot.png" alt="InheritHttpServer configuration." /></div>
<div class="section">
<h3><a name="Parent"></a>Parent</h3>
<p>For the parent that does not inherit from a template, it is just a normal template. It however does specify sections for overriding when inherited from. The HTML for the parent page is as follows:</p>
<div class="source"><pre class="prettyprint">&lt;html&gt;
&lt;head&gt;
	&lt;link href=&quot;./css/Site.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;p&gt;&lt;img width=&quot;150em&quot; src=&quot;http://www.officefloor.net/images/OfficeFloorBannerImage.png&quot; /&gt; ${text}&lt;/p&gt;

&lt;!-- {content} --&gt;
&lt;p&gt;Parent content section to be overridden by child.&lt;/p&gt;

&lt;!-- {footer} --&gt;
&lt;p&gt;&lt;a href=&quot;#{contact}&quot;&gt;Contact us&lt;/a&gt;&lt;/p&gt;

&lt;/html&gt;
&lt;/body&gt;
</pre></div>
<p>And the logic for the page is as follows:</p>
<div class="source"><pre class="prettyprint">public class ParentLogic {

	@Data
	public static class HeaderValues {
		private final String text;
	}

	public HeaderValues getTemplateData() {
		return new HeaderValues(&quot;HEADER&quot;);
	}
}
</pre></div>
<p>When rendered, the page results in the following:</p>
<div class="source"><pre class="prettyprint">&lt;html&gt;
&lt;head&gt;
	&lt;link href=&quot;./css/Site.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;p&gt;&lt;img width=&quot;150em&quot; src=&quot;http://www.officefloor.net/images/OfficeFloorBannerImage.png&quot; /&gt; HEADER&lt;/p&gt;


&lt;p&gt;Parent content section to be overridden by child.&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;/parent+contact&quot;&gt;Contact us&lt;/a&gt;&lt;/p&gt;

&lt;/html&gt;
&lt;/body&gt;
</pre></div></div>
<div class="section">
<h3><a name="a.3C.21--_.7B:section.7D_--.3E"></a>&lt;!-- {:section} --&gt;</h3>
<p>Template inheritance occurs by the child template overriding sections within the parent template. To specify which sections are being overridden by the child template, the child template prefixes the section name with ':'.</p>
<p>The child template may introduce further sections after the overriding section by not prefixing them with ':'. The introduced sections are included immediately after the overriding section but before the corresponding next section in the parent template.</p></div>
<div class="section">
<h3><a name="a.3C.21--_.7B.21.7D_--.3E"></a>&lt;!-- {!} --&gt;</h3>
<p>To continue to allow the child template to be rendered in a web browser for easy editing, sections named '!' are ignored. These ignored sections allow including HTML tags for correctly rendering the child raw template content.</p>
<p>Note that the first section within the child template is also ignored.</p></div>
<div class="section">
<h3><a name="Child"></a>Child</h3>
<p>The child template of this tutorial demonstrates overriding a section, introducing a section and ignoring sections. </p>
<p>The HTML for the child page is as follows:</p>
<div class="source"><pre class="prettyprint">&lt;html&gt;
&lt;body&gt;

&lt;!-- {:content} --&gt;
&lt;p&gt;&lt;b&gt;Child overriding the parent content section.&lt;/b&gt;&lt;/p&gt;

&lt;!-- {introduced} --&gt;
&lt;p&gt;&lt;b&gt;An introduced section after overriding content section.  It has a property: ${value}.&lt;/b&gt;&lt;/p&gt;

&lt;!-- {!} --&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
<p>The sections, have the following effect:</p>
<ul>
<li>first section: ignored by default (but necessary for HTML tags)</li>
<li><tt>:content</tt> section: overrides the parent's <tt>content</tt> section</li>
<li><tt>introduced</tt> section: included immediately after the child's <tt>content</tt> section</li>
<li><tt>!</tt> section: ignored (but necessary for HTML tags)</li></ul>
<p>As the <tt>introduced</tt> section has a ${property}, it requires a corresponding data method in the logic class. The following is the logic class for the child template. Note that it extends the parent logic class to inherit the required data methods from the parent.</p>
<div class="source"><pre class="prettyprint">public class ChildLogic extends ParentLogic {

	@Data
	public static class IntroducedValues {
		private final String value;
	}

	public IntroducedValues getIntroducedData() {
		return new IntroducedValues(&quot;CHILD&quot;);
	}
}
</pre></div>
<p>When rendered, the page results in the following:</p>
<div class="source"><pre class="prettyprint">&lt;html&gt;
&lt;head&gt;
	&lt;link href=&quot;./css/Site.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;p&gt;&lt;img width=&quot;150em&quot; src=&quot;http://www.officefloor.net/images/OfficeFloorBannerImage.png&quot; /&gt; HEADER&lt;/p&gt;


&lt;p&gt;&lt;b&gt;Child overriding the parent content section.&lt;/b&gt;&lt;/p&gt;


&lt;p&gt;&lt;b&gt;An introduced section after overriding content section.  It has a property: CHILD.&lt;/b&gt;&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;/child+contact&quot;&gt;Contact us&lt;/a&gt;&lt;/p&gt;

&lt;/html&gt;
&lt;/body&gt;
</pre></div></div>
<div class="section">
<h3><a name="Grand_Child"></a>Grand Child</h3>
<p>The grand child template of this tutorial demonstrates overriding the first section, overriding an introduced section and overriding a data method.</p>
<p>The HTML for the grand child page is as follows:</p>
<div class="source"><pre class="prettyprint">&lt;!-- {:template} --&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;link href=&quot;./css/Other.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;p&gt;&lt;i&gt;Grand child overriding template section to have no header image and a new property: ${other}&lt;/i&gt;&lt;/p&gt;

&lt;!-- {precontent} --&gt;
&lt;p&gt;&lt;i&gt;Section introduced before child content.&lt;/i&gt;&lt;/p&gt;

&lt;!-- {:introduced} --&gt;
&lt;p&gt;&lt;i&gt;Grand child overriding child introduced section.&lt;/i&gt;&lt;/p&gt;

&lt;!-- {!} --&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
<p>The sections, have the following effect:</p>
<ul>
<li><tt>:template</tt> section: overrides the first section of the parent template</li>
<li><tt>precontent</tt> section: included immediately after the first section</li>
<li><tt>:introduced</tt> section: overrides the child's <tt>introduced</tt> section</li>
<li><tt>!</tt> section: ignored</li></ul>
<p>The overriding of the first section also introduces a different property. This requires the corresponding data method to return a different type (one containing the new property rather than the old property). To enable overriding data methods of the parent and continue to abide by Java compiler rules, template inheritance for logic classes have methods override each other by name only (not by the entire method signature). This allows changing the method signature (e.g. adding an additional parameter) and then override the data method by name to return a different type.</p>
<p>In the case of this tutorial, the following logic class shows overriding the method by name. The additional parameter is only to create a different method signature to avoid Java compiler issues of returning a different type.</p>
<div class="source"><pre class="prettyprint">public class GrandChildLogic extends ParentLogic {

	@Data
	public static class AlternateHeaderValues {
		private final String other;
	}

	public AlternateHeaderValues getTemplateData(HttpRequestState requestState) {
		return new AlternateHeaderValues(&quot;GRAND CHILD&quot;);
	}
}
</pre></div>
<p>When rendered, the page results in the following:</p>
<div class="source"><pre class="prettyprint">
&lt;html&gt;
&lt;head&gt;
	&lt;link href=&quot;./css/Other.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;p&gt;&lt;i&gt;Grand child overriding template section to have no header image and a new property: GRAND CHILD&lt;/i&gt;&lt;/p&gt;


&lt;p&gt;&lt;i&gt;Section introduced before child content.&lt;/i&gt;&lt;/p&gt;


&lt;p&gt;&lt;b&gt;Child overriding the parent content section.&lt;/b&gt;&lt;/p&gt;


&lt;p&gt;&lt;i&gt;Grand child overriding child introduced section.&lt;/i&gt;&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;/grandchild+contact&quot;&gt;Contact us&lt;/a&gt;&lt;/p&gt;

&lt;/html&gt;
&lt;/body&gt;
</pre></div></div></div>
<div class="section">
<h2><a name="Next"></a>Next</h2>
<p>The <a href="../SecurePageHttpServer/index.html">next tutorial</a> covers securing a page.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                                <p class="pull-right">Copyright &copy;                    2005&#x2013;2020
                        <a href="http://officefloor.net">OfficeFloor</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
