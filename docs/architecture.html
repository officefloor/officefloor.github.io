<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2021-07-01 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Daniel Sagenschneider" />
    <meta name="Date-Revision-yyyymmdd" content="20210701" />
    <meta http-equiv="Content-Language" content="en" />
    <title>OfficeFloor &#x2013; Architecture</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

          <!-- shortcut icon -->
			<link rel="shortcut icon" href="/favicon.ico" />
			
			<!-- www.addthis.com (for sharing) -->
			<script type="text/javascript">
				$(document).ready(function() {
					var addThisScript = document.createElement("script");
					addThisScript.type = 'text/javascript';
					addThisScript.src = '//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c6e0c0bac25d2cf';
					document.body.appendChild(addThisScript);
				})
			</script>
                  <!-- Google Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-23477455-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
          </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/officefloor/OfficeFloor">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://officefloor.net/" id="bannerLeft">
                                                                                        <img src="https://officefloor.net/images/OfficeFloorBannerImage.png"  alt="OfficeFloor"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="index.html" title="OfficeFloor">
        OfficeFloor</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Architecture</li>
        
              
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2021-07-01</li>
              <li id="projectVersion" class="pull-right">
                    Version: 3.37.0
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Getting Started</li>
                              
      <li>
  
                          <a href="about.html" title="About">
          <span class="none"></span>
        About</a>
            </li>
                
      <li>
  
                          <a href="install.html" title="Install">
          <span class="none"></span>
        Install</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Architecture</a>
          </li>
                
      <li>
  
                          <a href="tutorials/index.html" title="Tutorials">
          <span class="none"></span>
        Tutorials</a>
            </li>
                
      <li>
  
                          <a href="getting-help.html" title="Getting Help">
          <span class="none"></span>
        Getting Help</a>
            </li>
                
      <li>
  
                          <a href="pricing.html" title="Pricing">
          <span class="none"></span>
        Pricing</a>
            </li>
                              <li class="nav-header">Modules</li>
                              
      <li>
  
                          <a href="core/index.html" title="Core">
          <span class="none"></span>
        Core</a>
            </li>
                
      <li>
  
                          <a href="officedocker_test/index.html" title="Docker test utilities for OfficeFloor">
          <span class="none"></span>
        Docker test utilities for OfficeFloor</a>
            </li>
                
      <li>
  
                          <a href="activity/index.html" title="Activity">
          <span class="none"></span>
        Activity</a>
            </li>
                
      <li>
  
                          <a href="declare/index.html" title="Declare">
          <span class="none"></span>
        Declare</a>
            </li>
                
      <li>
  
                          <a href="polyglot/index.html" title="Polyglot">
          <span class="none"></span>
        Polyglot</a>
            </li>
                
      <li>
  
                          <a href="server/index.html" title="Server">
          <span class="none"></span>
        Server</a>
            </li>
                
      <li>
  
                          <a href="web/index.html" title="Web">
          <span class="none"></span>
        Web</a>
            </li>
                
      <li>
  
                          <a href="persistence/index.html" title="Persistence">
          <span class="none"></span>
        Persistence</a>
            </li>
                
      <li>
  
                          <a href="cache/index.html" title="Cache">
          <span class="none"></span>
        Cache</a>
            </li>
                
      <li>
  
                          <a href="identity/index.html" title="Identity">
          <span class="none"></span>
        Identity</a>
            </li>
                
      <li>
  
                          <a href="pay/index.html" title="Pay">
          <span class="none"></span>
        Pay</a>
            </li>
                
      <li>
  
                          <a href="jee/index.html" title="JEE">
          <span class="none"></span>
        JEE</a>
            </li>
                
      <li>
  
                          <a href="spring/index.html" title="Spring">
          <span class="none"></span>
        Spring</a>
            </li>
                
      <li>
  
                          <a href="maven/index.html" title="Maven">
          <span class="none"></span>
        Maven</a>
            </li>
                
      <li>
  
                          <a href="editor/index.html" title="Editor">
          <span class="none"></span>
        Editor</a>
            </li>
                
      <li>
  
                          <a href="tutorials/index.html" title="Tutorials">
          <span class="none"></span>
        Tutorials</a>
            </li>
            </ul>
              
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="officefloor.net/officefloor/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="https://github.com/sponsors/sagenschneider" title="Support" class="builtBy">
        <img class="builtBy"  alt="Support" src="https://officefloor.net/images/sponsor.jpg"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="OfficeFloor_Architecture"></a>OfficeFloor Architecture</h2>
<p>The OfficeFloor architecture is based on design patterns observed in an Office. While OfficeFloor respects technical design patterns, OfficeFloor looks at the evolved <i>&quot;real world&quot;</i> patterns people intuitively understand for organising information and servicing requests. This is reflected in the various <tt>Sources</tt> within OfficeFloor.</p>
<p>The name OfficeFloor comes from this focus.</p><img src="./images/Architecture.png" alt="OfficeFloor Architecture" />
<p>The architecture for OfficeFloor has three distinct layers.</p>
<ol style="list-style-type: decimal">
<li><a href="#Graphical_Editors">Graphical Editors</a> that populate the models configuring the <tt>Sources</tt>.</li>
<li><a href="#OfficeCompiler">OfficeCompiler</a> which compiles the configured <tt>Sources</tt> into the OfficeFrame.</li>
<li><a href="#OfficeFrame">OfficeFrame</a> which is the runtime to execute the functionality of the <tt>Sources</tt>.</li></ol></div>
<div class="section">
<h2><a name="Graphical_Editors">Graphical Editors</a></h2>
<p>The OfficeFloor graphical editors are plugins to the IDE. They utilise the OfficeCompiler to compile the Sources into 'types'. These 'types' are then graphically configured together by the IDE plug-ins to make up the OfficeFloor configuration.</p></div>
<div class="section">
<h2><a name="OfficeCompiler">OfficeCompiler</a></h2>
<p>The OfficeCompiler loads the Sources into the OfficeFrame. It takes care of validating 'type' compatibility between the Sources so that the constructed application is type safe.</p></div>
<div class="section">
<h2><a name="OfficeFrame">OfficeFrame</a></h2>
<p>The OfficeFrame is the core of the <a class="externalLink" href="https://sagenschneider.blogspot.com/2019/02/inversion-of-coupling-control.html">Inversion of Coupling Control</a> that gives OfficeFloor its flexibility and performance. It simplifies the functionality of an application into functions where each type of function is executed by a particular Team. These functions then can depend on other objects and functions for their execution.</p></div>
<div class="section">
<h2><a name="Sources">Sources</a></h2>
<p>Sources are the building blocks of OfficeFloor. The term Source is used in two ways:</p>
<ul>
<li><i>source</i> of an item</li>
<li><i>source</i> to be compiled</li></ul>
<p>The first meaning is to provide an object for use. In this sense a Source is like a <tt>javax.sql.DataSource</tt> to a <tt>java.sql.Connection</tt>.</p>
<p>The second meaning is to enable the Source to be compiled into a type. The ability to provide a type allows both validation and configuration of the Sources into an application.</p>
<p>There are different sources that provide distinct responsibilities to an application. </p>
<p>In building OfficeFloor web applications, WoOF (Web on OfficeFloor) provides many pre-built Sources that only require configuring. Also the automagic dependency and thread injection used by WoOF and the WoOF specific graphical editors reduce the need to understand each Source in detail.</p>
<p>The following table lists the Sources within OfficeFloor.</p>
<table border="1" class="table table-striped">
<tr class="a">
<th align="left">Source</th>
<th align="left">Description</th></tr>
<tr class="b">
<td align="left"><a href="/apidocs/net/officefloor/frame/api/team/source/TeamSource.html">TeamSource</a></td>
<td align="left">Provides thread pools for execution of functions. A thread pool is known as a Team within OfficeFloor.</td></tr>
<tr class="a">
<td align="left"><a href="/apidocs/net/officefloor/compile/spi/managedfunction/source/ManagedFunctionSource.html">ManagedFunctionSource</a></td>
<td align="left">Provides functions that contain application functionality.</td></tr>
<tr class="b">
<td align="left"><a href="/apidocs/net/officefloor/frame/api/managedobject/source/ManagedObjectSource.html">ManagedObjectSource</a></td>
<td align="left">Provides objects that are made available to the functions. The objects are such things as <tt>java.sql.Connection</tt>, <tt>javax.jms.Message</tt>, <tt>java.nio.channels.SocketChannel</tt> (objects you would dependency inject).</td></tr>
<tr class="a">
<td align="left"><a href="/apidocs/net/officefloor/compile/spi/supplier/source/SupplierSource.html">SupplierSource</a></td>
<td align="left">Supplies multiple ManagedObjectSources for use. This allows grouping Managed Objects together under under simpler configuration. An example of use is integrating with Spring to supply a Managed Object for each Spring bean within a BeanFactory. This typically allows integrating other <i>Dependency Injection Only</i> frameworks into OfficeFloor.</td></tr>
<tr class="b">
<td align="left"><a href="/apidocs/net/officefloor/compile/spi/governance/source/GovernanceSource.html">GovernanceSource</a></td>
<td align="left">Provides context for functions to be run within. Typical use is specifying the transaction management over the functions.</td></tr>
<tr class="a">
<td align="left"><a href="/apidocs/net/officefloor/compile/spi/administration/source/AdministrationSource.html">AdministrationSource</a></td>
<td align="left">Provides functions which can be weaved between the application functions. This allows for Aspect style functionality to handle such things as checking access permissions before executing a series of functions.</td></tr>
<tr class="b">
<td align="left"><a href="/apidocs/net/officefloor/compile/spi/section/source/SectionSource.html">SectionSource</a></td>
<td align="left">Configuration of how the Managed Function and Managed Objects are connected together. Sections may also contain other sections to break down configuration into manageable encapsulated detail. Typically this is represented graphically so that all stake holders can work together on these diagrams to ensure the requirements for the application are being met.</td></tr>
<tr class="a">
<td align="left"><a href="/apidocs/net/officefloor/compile/spi/office/source/OfficeSource.html">OfficeSource</a></td>
<td align="left">Configuration of an application. An application is known as an Office within OfficeFloor. An Office provides the details of how the Sections are connected together. It also specifies the Governance and Administration of functions along with assigning Teams responsible to execute the respective functions. The reason for Governance, Administration and Team assigning within the Office is to abstract this away from Sections so that the stake holders can focus on application functionality rather than being caught up with these aspects.</td></tr>
<tr class="b">
<td align="left"><a href="/apidocs/net/officefloor/compile/spi/officefloor/source/OfficeFloorSource.html">OfficeFloorSource</a></td>
<td align="left">Configuration of deploying applications. It is also where this project got its name. An OfficeFloor may host many Offices where each Office is made up of many Sections. The OfficeFloor allows tuning the Offices to the hardware/network it is running on by specifying the physical Teams and Managed Object Sources of the Offices.</td></tr></table>
<div class="section">
<h3><a name="Compiling_the_Sources"></a>Compiling the Sources</h3>
<p>The main focus of the OfficeCompiler is to compile the Sources configured by the graphical editors into the OfficeFrame for execution. Typically compilation follows these steps:</p>
<ol style="list-style-type: decimal">
<li>OfficeCompiler is given the OfficeFloorSource and its configuration location</li>
<li>Compiling the OfficeFloorSource identifies the necessary OfficeSources and their configuration locations</li>
<li>Compiling the subsequent OfficeSources identifies the SectionSources and their configuration locations</li>
<li>SectionSources may themselves contain other SectionSources creating a hierarchical organisation of the Sections within an Office (ie Sections containing Sub-Sections, containing Sub-Sub-Sections, and so forth).</li>
<li>As each of these above Sources are compiled they may result in any of the following Sources to be loaded, validated and confirmed to be type safe in their connections to other Sources:
<ul>
<li>ManagedObjectSource (available in each of OfficeFloorSource, OfficeSource and SectionSource)</li>
<li>ManagedFunctionSource (available only within SectionSource)</li>
<li>AdministrationSource (available only within OfficeSource)</li>
<li>GovernanceSource (available only within OfficeSource)</li>
<li>TeamSource (available only within OfficeFloorSource)</li></ul></li>
<li>On compiling all Sources a meta-data model of the application has been created. This model is then loaded into the OfficeFrame (via the OfficeFrame configuration API). Typically this step is known as &quot;building&quot; the OfficeFloor.</li>
<li>The result of compilation is an OfficeFloor object which may be started by calling its <tt>openOfficeFloor</tt> method (representing the idea of 'opening the offices for business')</li></ol></div>
<div class="section">
<h3><a name="Compiling_to_types"></a>Compiling to types</h3>
<p>To aid in rapid application development (RAD), graphical editors are available in the IDEs to reduce time spent configuring. To allow the graphical editors to validate the connections between Sources, the graphical editors require the type information of the Sources. OfficeCompiler provides this functionality so that the graphical editors can focus on graphical editing.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                                <p class="pull-right">Copyright &copy;                    2005&#x2013;2021
                        <a href="http://officefloor.net">OfficeFloor</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
